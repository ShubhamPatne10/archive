<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archive</title>
    <style>
        :root { --red: #a50d0d; --gold: #ffe600; --bg: #000; }
        body, html { margin: 0; padding: 0; background: var(--bg); font-family: 'Segoe UI', sans-serif; overflow-x: hidden; }

        /* LOCK SCREEN */
        #lock-screen {
            height: 100vh; width: 100vw; display: flex; justify-content: center; align-items: center;
            position: fixed; z-index: 10000; background: #000;
        }
        .inputbox { position: relative; width: 250px; }
        .inputbox input {
            width: 100%; padding: 10px 0; background: transparent; border: none; outline: none;
            color: var(--gold); font-size: 2em; letter-spacing: 10px; z-index: 10; position: relative; text-align: center;
        }
        .inputbox span { 
            position: absolute; left: 0; width: 100%; text-align: center; 
            padding: 10px 0; color: #ffffff; transition: 0.5s; pointer-events: none; font-size: 1.2em;
        }
        .inputbox input:focus ~ span, .inputbox input:valid ~ span { color: var(--gold); transform: translateY(-40px); font-size: 0.9em; }
        .inputbox i { position: absolute; left: 0; bottom: 0; width: 100%; height: 2px; background: var(--gold); transition: 0.5s; }

        /* MAIN WRAPPER */
        #main-wrapper { 
            display: none; min-height: 100vh; background-color: var(--red);
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 304 304' width='304' height='304'%3E%3Cpath fill='%23ffe600' fill-opacity='0.2' d='M44.1 224a5 5 0 1 1 0 2H0v-2h44.1zm160 48a5 5 0 1 1 0 2H82v-2h122.1zm57.8-46a5 5 0 1 1 0-2H304v2h-42.1zm0 16a5 5 0 1 1 0-2H304v2h-42.1zm6.2-114a5 5 0 1 1 0 2h-86.2a5 5 0 1 1 0-2h86.2zm-256-48a5 5 0 1 1 0 2H0v-2h12.1zm185.8 34a5 5 0 1 1 0-2h86.2a5 5 0 1 1 0 2h-86.2zM258 12.1a5 5 0 1 1-2 0V0h2v12.1zm-64 208a5 5 0 1 1-2 0v-54.2a5 5 0 1 1 2 0v54.2zm48-198.2V80h62v2h-64V21.9a5 5 0 1 1 2 0zm16 16V64h46v2h-48V37.9a5 5 0 1 1 2 0zm-128 96V208h16v12.1a5 5 0 1 1-2 0V210h-16v-76.1a5 5 0 1 1 2 0zm-5.9-21.9a5 5 0 1 1 0 2H114v48H85.9a5 5 0 1 1 0-2H112v-48h12.1zm-6.2 130a5 5 0 1 1 0-2H176v-74.1a5 5 0 1 1 2 0V242h-60.1zm-16-64a5 5 0 1 1 0-2H114v48h10.1a5 5 0 1 1 0 2H112v-48h-10.1zM66 284.1a5 5 0 1 1-2 0V274H50v30h-2v-32h18v12.1zM236.1 176a5 5 0 1 1 0 2H226v94h48v32h-2v-30h-48v-98h12.1zm25.8-30a5 5 0 1 1 0-2H274v44.1a5 5 0 1 1-2 0V146h-10.1zm-64 96a5 5 0 1 1 0-2H208v-80h16v-14h-42.1a5 5 0 1 1 0-2H226v18h-16v80h-12.1zm86.2-210a5 5 0 1 1 0 2H272V0h2v32h10.1z'/%3E%3C/svg%3E");
        }

        section { background: rgba(255, 255, 255, 0.95); width: 90%; max-width: 1200px; margin: 20px auto; border-radius: 15px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
        .header-title { text-align: center; color: var(--red); font-size: 2rem; margin-bottom: 5px; }
        .sub-header { text-align: center; color: #444; font-size: 1.4rem; margin-bottom: 20px; font-weight: bold; }
        
        nav { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        nav button { padding: 10px 18px; border-radius: 50px; border: none; cursor: pointer; background: #f0f0f0; font-weight: bold; }
        nav button.active { background: var(--red); color: white; }
        
        .calendar-grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .month-container { background: white; padding: 10px; border-radius: 12px; border: 1px solid #eee; }
        .month-name { text-align: center; font-weight: bold; color: var(--red); margin-bottom: 10px; }
        .days-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }
        .date-btn { aspect-ratio: 1; border: none; border-radius: 50%; background: #eee; cursor: pointer; font-size: 0.75rem; }
        .date-btn.red-btn { background: var(--red); color: white; box-shadow: 0 3px 8px rgba(165,13,13,0.3); }

        /* MODAL & TILT CARD */
        #photo-modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            display: none; justify-content: center; align-items: center; z-index: 20000; padding: 20px;
        }
        .modal-body { position: relative; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 100%; max-width: 600px; }
        
        .card-wrapper { 
            position: relative; width: 100%; aspect-ratio: 3/2; transition: transform 0.5s ease; 
            display: flex; justify-content: center; align-items: center;
        }

        .card { 
            position: relative; width: 100%; height: 100%; border-radius: 15px; background: #111; 
            overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            perspective: 1000px; transform-style: preserve-3d;
        }
        
        .card img { width: 100%; height: 100%; object-fit: contain; } /* Prevents cropping */
        
        .card__content {
            position: absolute; inset: 0; padding: 40px; background: rgba(255, 255, 255, 0.9);
            opacity: 0; transition: 0.4s; display: flex; flex-direction: column; justify-content: center; text-align: center;
            z-index: 5; transform: translateZ(60px); 
        }
        .card:hover .card__content { opacity: 1; }

        .nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: rgba(0,0,0,0.6); color: white; border: none; width: 45px; height: 45px;
            cursor: pointer; font-size: 1.2rem; z-index: 10; border-radius: 50%; transition: 0.3s;
        }
        .nav-btn:hover { background: var(--gold); color: black; }
        .left-btn { left: 15px; }
        .right-btn { right: 15px; }

        .tilt-btn {
            background: var(--gold); color: black; border: none; padding: 8px 15px;
            border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 0.9rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        .close-modal {
            position: absolute; top: -50px; right: 0; background: none; border: none;
            color: white; font-size: 3rem; cursor: pointer; z-index: 20001;
        }

        /* HEART BUTTON */
        .love { display: flex; justify-content: center; align-items: center; padding: 10px; z-index: 20005; }
        #switch { display: none; }
        .love-heart { --size: 45px; --color: #fff; --color-active: #ff0000; position: relative; width: var(--size); height: var(--size); cursor: pointer; transition: 0.2s; display: block; }
        .love-heart:active { transform: scale(1.2); }
        .love-heart i { position: absolute; background-color: var(--color); transition: 0.3s; }
        .love-heart .left, .love-heart .right { width: 50%; height: 80%; border-radius: 50px 50px 0 0; top: 0; }
        .love-heart .left { left: 5%; transform: rotate(-45deg); }
        .love-heart .right { right: 5%; transform: rotate(45deg); }
        .love-heart .bottom { width: 52%; height: 52%; bottom: 12%; left: 24%; transform: rotate(45deg); }
        .love-heart .round { position: absolute; width: 15%; height: 15%; background-color: var(--color); top: 35%; left: 42.5%; border-radius: 50%; z-index: 1; transition: 0.3s; }
        #switch:checked + .love-heart i, #switch:checked + .love-heart .round { background-color: var(--color-active); box-shadow: 0 0 20px rgba(255, 0, 0, 0.8); }

        .timer-display { text-align: center; color: #fff; background: rgba(0,0,0,0.8); padding: 20px; border-top: 3px solid var(--gold); font-size: 1.1rem; }
        .timer-val { color: var(--gold); font-weight: bold; }
    </style>
</head>
<body>
    <div id="lock-screen">
        <div class="inputbox">
            <input required type="text" id="passCode" maxlength="4" autocomplete="off">
            <span>Passcode</span><i></i>
        </div>
    </div>

    <div id="main-wrapper">
        <section>
            <h1 class="header-title">Happy Anniversary Uditi!</h1>
            <div class="sub-header">Our Album :)</div>
            <nav id="year-nav">
                <button onclick="renderCalendar(2022)" id="y2022">2022</button>
                <button onclick="renderCalendar(2023)" id="y2023">2023</button>
                <button onclick="renderCalendar(2024)" id="y2024">2024</button>
                <button onclick="renderCalendar(2025)" id="y2025">2025</button>
            </nav>
            <div id="calendar-root" class="calendar-grid-container"></div>
        </section>
        <div class="timer-display">
            Years: <span class="timer-val" id="t-years">0</span> | Months: <span class="timer-val" id="t-months">0</span>
            <div id="t-live" style="font-size: 0.9rem; margin-top: 5px; opacity: 0.7;"></div>
        </div>
    </div>

    <div id="photo-modal" onclick="closeModal()">
        <div class="modal-body" onclick="event.stopPropagation()">
            <button class="close-modal" onclick="closeModal()">&times;</button>
            
            <div class="card-wrapper" id="card-rotate-target">
                <div class="card">
                    <img id="m-img" src="" alt="Memory">
                    <div id="nav-arrows" style="display:none;">
                        <button onclick="changePhoto(-1)" class="nav-btn left-btn">&#10094;</button>
                        <button onclick="changePhoto(1)" class="nav-btn right-btn">&#10095;</button>
                    </div>
                    <div class="card__content">
                        <h2 class="card__title" id="m-title"></h2>
                        <p class="card__description" id="m-desc"></p>
                    </div>
                </div>
            </div>

            <div style="display:flex; gap:10px; align-items:center;">
                <button class="tilt-btn" onclick="toggleTilt()">ðŸ”„ Tilt View</button>
                <div class="love">
                    <input id="switch" type="checkbox">
                    <label class="love-heart" for="switch">
                        <i class="left"></i><i class="right"></i><i class="bottom"></i><div class="round"></div>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <script>
        const memories = {
            "2022-12-29": { title: "Day One", desc: "Started with normal conversations.....", img: "dec_29.jpeg" },
            "2023-02-07": { title: "Your Bday Celebration & Our 1st Hug", desc: "Gifted poem and jhumka....", img: ["1.jpeg", "2.jpeg"] },
            "2023-03-22": { title: "Farewell", desc: "memorable...", img: "3.jpeg" },
            "2023-04-06": { title: "Hehe ", desc: ":)", img: ["4.jpeg", "5.jpeg"] },
            "2023-06-05": { title: "Cuteee ", desc: ":)", img: "6.jpeg" },
            "2023-07-27": { title: "Two Cutuus ", desc: ":)", img: ["7.jpeg", "8.jpeg"] },
            "2023-08-06": { title: "Morning Walks", desc: ":)", img: ["9.jpeg", "10.jpeg"] },
            "2023-08-20": { title: "Our 1st Kiss", desc: "Too romanticcc", img: ["11.jpeg", "12.jpeg"] },
            "2023-09-27": { title: "Walkingg", desc: ":)", img: ["13.jpeg", "14.jpeg", "15.jpeg"] },
            "2023-10-18": { title: "One of the best picss", desc: ":)", img: "16.jpeg" },
            "2023-10-23": { title: "Video Call", desc: "WoWieeee Haircutttt", img: ["17.jpeg", "18.jpeg", "19.jpeg"] },
            "2023-11-16": { title: "Playing Badminton", desc: ":)", img: "20.jpeg" },
            "2023-12-24": { title: "Lovelyy", desc: ":)", img: ["21.jpeg", "22.jpeg"] },
            "2024-06-17": { title: "Football", desc: "cuties in jerseyss", img: ["23.jpeg", "24.jpeg", "25.jpeg", "26.jpeg", "27.jpeg", "28.jpeg", "29.jpeg", "30.jpeg"] },
            "2024-08-06": { title: "Beautyy", desc: "Lovely pics :)", img: ["31.jpeg", "32.jpeg", "33.jpeg"] },
            "2024-08-31": { title: "My home in my home", desc: "Missing this moment....", img: ["34.jpeg", "35.jpeg"] },
            "2024-11-16": { title: "ICAD", desc: "Waiting for the van", img: ["36.jpeg", "37.jpeg"] },
            "2024-12-03": { title: "Awwwieee", desc: "Pure happiness", img: ["38.jpeg", "39.jpeg", "40.jpeg", "41.jpeg", "42.jpeg", "43.jpeg"] },
            "2024-12-06": { title: "Her in My Arms...", desc: ":)", img: ["44.jpeg", "45.jpeg", "46.jpeg"] },
            "2025-02-07": { title: "Her Bdayyy", desc: "Joyyy :)", img: ["47.jpeg", "48.jpeg", "49.jpeg", "50.jpeg", "51.jpeg", "52.jpeg", "53.jpeg"] },
            "2025-03-07": { title: "Our 1st Date finallyyy", desc: "Movie food fun...", img: ["54.jpeg", "55.jpeg", "56.jpeg", "57.jpeg"] },
            "2025-08-01": { title: "Your home", desc: "Cycle se aya...", img: ["58.jpeg", "59.jpeg"] },
            "2025-08-30": { title: "College to Home Together", desc: "Auto time spend...", img: ["60.jpeg", "61.jpeg"] },
            "2025-09-09": { title: "Metro Station", desc: "2 cutuus", img: ["62.jpeg", "63.jpeg", "64.jpeg", "65.jpeg"] },
            "2025-11-21": { title: "Metro Station Part 2", desc: "cutiee piesss...", img: ["66.jpeg", "67.jpeg", "68.jpeg"] },
        };

        const startDate = new Date("2022-12-29T22:14:00");
        let currentPhotoIndex = 0;
        let activePhotoArray = [];
        let currentRotation = 0;

        document.getElementById('passCode').addEventListener('input', function() {
            if(this.value === '2912') {
                document.getElementById('lock-screen').style.display = 'none';
                document.getElementById('main-wrapper').style.display = 'block';
                renderCalendar(2022); startTracking();
            }
        });

        function renderCalendar(year) {
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
            document.getElementById('y'+year).classList.add('active');
            const root = document.getElementById('calendar-root'); root.innerHTML = '';
            for(let m=0; m<12; m++) {
                if(year === 2022 && m < 11) continue;
                const mDiv = document.createElement('div'); mDiv.className = 'month-container';
                mDiv.innerHTML = `<div class="month-name">${new Intl.DateTimeFormat('en-US',{month:'long'}).format(new Date(year,m))}</div>`;
                const grid = document.createElement('div'); grid.className = 'days-grid';
                const days = new Date(year, m+1, 0).getDate();
                for(let i=1; i<=days; i++) {
                    if(year === 2022 && i < 29) continue;
                    const btn = document.createElement('button'); btn.className = 'date-btn'; btn.innerText = i;
                    const dStr = `${year}-${(m+1).toString().padStart(2,'0')}-${i.toString().padStart(2,'0')}`;
                    if(memories[dStr]) { btn.classList.add('red-btn'); btn.onclick = () => openModal(dStr); }
                    grid.appendChild(btn);
                }
                mDiv.appendChild(grid); root.appendChild(mDiv);
            }
        }

        function openModal(d) {
            const data = memories[d];
            document.getElementById('m-title').innerText = data.title;
            document.getElementById('m-desc').innerText = data.desc;
            document.getElementById('switch').checked = false;
            currentRotation = 0;
            document.getElementById('card-rotate-target').style.transform = `rotate(0deg)`;

            if (Array.isArray(data.img)) {
                activePhotoArray = data.img;
                currentPhotoIndex = 0;
                document.getElementById('m-img').src = activePhotoArray[0];
                document.getElementById('nav-arrows').style.display = 'block';
            } else {
                document.getElementById('m-img').src = data.img;
                document.getElementById('nav-arrows').style.display = 'none';
            }
            document.getElementById('photo-modal').style.display = 'flex';
        }

        function toggleTilt() {
            currentRotation += 90;
            document.getElementById('card-rotate-target').style.transform = `rotate(${currentRotation}deg)`;
        }

        function changePhoto(step) {
            currentPhotoIndex += step;
            if (currentPhotoIndex >= activePhotoArray.length) currentPhotoIndex = 0;
            if (currentPhotoIndex < 0) currentPhotoIndex = activePhotoArray.length - 1;
            document.getElementById('m-img').src = activePhotoArray[currentPhotoIndex];
        }

        function closeModal() { document.getElementById('photo-modal').style.display = 'none'; }

        function startTracking() {
            setInterval(() => {
                const now = new Date();
                let y = now.getFullYear() - startDate.getFullYear();
                let m = now.getMonth() - startDate.getMonth();
                if (now.getDate() < 29) m--;
                if (m < 0) { y--; m += 12; }
                document.getElementById('t-years').innerText = y;
                document.getElementById('t-months').innerText = m;
                const diff = now - startDate;
                const d = Math.floor(diff / 86400000);
                const h = Math.floor((diff / 3600000) % 24);
                const min = Math.floor((diff / 60000) % 60);
                const s = Math.floor((diff / 1000) % 60);
                document.getElementById('t-live').innerText = `${d}d ${h}h ${min}m ${s}s since 29-12-2022`;
            }, 1000);
        }
    </script>
</body>
</html>
